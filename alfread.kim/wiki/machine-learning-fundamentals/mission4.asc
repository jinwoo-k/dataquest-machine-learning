== Recap
  *  지난 미션에서 속성선택을 통해서 모델의 정확도를 향상시키는 방법을 살펴 보았음
    ** 일반적으로 더 많은 속성을 추가하여 모델의 오류를 낮출 수 있음
    ** 그러나 사용 가능한 모든 속성을 사용한다고  정확도가 향상되지 않음
    ** 일부 속성은 유사성 순위와 관련이 없는 것으로 나타남
    ** 관련된  속성을 선택하는 것이 절모델의 정확성을 향상시킬 때 올바른 방법임
   * 이번 미션에서는 k( 인근 이웃의 수)가 증가함에 따른 영향에 초점

== 하이퍼 파라메터 최적화
   *  하이퍼 파라메터?
     ** 파라메터 : 훈련데이터와 학습알고리즘에 의해서 자동적으로 획득되는 값
     ** 하이퍼 파라메터 : 사용되는 데이터와 관련이 없는 모델의 동작 및 성능에 영향을 미치는 값
   * 하이퍼 파라메터 최적화
      ** 여러 후보값 중 시험을 통해 가장 적절한 값을 찾는 과정
    * 그리드 검색 : 일반적인 하이퍼 파라메터 최적화 기법
      ** 가능한 하이퍼 파라메터의 하위집합을 선택
      ** 각 하이퍼 파라메터값을 사용하여 모델을 학습 시킨다.
      ** 각 모델의 성능을 평가
      ** 가장 낮은 오류값을 가지는 하이퍼 파라메터 값을 선택
   *  예제에서 k값을 1~5 로 증가시키며 MSE값을 비교
[width="20%", options="header"]
|===
| k	| MSE
| 1	| 26364.928327645051
| 2	| 15100.522468714449
| 3	| 14579.597901655923
| 4	| 16212.300767918088
| 5	| 14090.011649601822
|===

== 그리드 검색 확장
 * k값을 20까지 확장하여 비교
[width="20%", options="header"]
|===
| k	| MSE
| 1	| 26364.928327645051
| 2	| 15100.522468714449
| 3	| 14579.597901655923
| 4	| 16212.300767918088
| 5	| 14090.011649601822
|  6 | 13657.290671217292
|  7 | 14288.273896589353
|  8 | 14853.448183304892
|  9 | 14670.831907751512
| 10 | 14642.451478953355
| 11 | 14734.071380889252
| 12 | 14854.556669510808
| 13 | 14733.16190399257
| 14 | 14777.975894453346
| 15 | 14771.124646694478
| 16 | 14870.178509847838
| 17 | 14832.598509630716
| 18 | 14783.592968300116
| 19 | 14775.594716988267
| 20 | 14676.947986348125
|===
 * 가장 낮은 MSE 값이 지금까지 시도한 하이퍼 매개 변수 값 중 하나와 관련되어 있는지 확신하지 못하면
  항상 시도하는 값을 확장 할 수 있습니다.

== 하이퍼 파라메터값 시각화
image::./images/hyper_values1.png[]
 * 처음에 k를 증가 시키면 오류율은 특정 시점까지 감소하지만 다시 반동하여 다시 증가

== 다양한 속성들과 하이퍼 파라메터
 * k 값을 변화 시키면이 모델의 MSE 값이 감소
 * k를 5로 고정했던 마지막 수행 한 미션 모델 중 하나에 대한 그리드 검색 프로세스를 반복하면
   MSE 값이 낮아질까? (가능한 모든 feature를 선택한 모델)

image::./images/hyper_values2.png[]

== 워크플로우 연습
 * 최적의 모델을 찾는 일반적인 워크프로우
   ** 대상 열을 예측하는 데 사용할 연관된  속성을 선택
   ** 그리드 검색을 사용하여 선택한 피처에 대한 최적의 하이퍼 매개 변수 값을 찾는다.
   ** 모델의 정확성을 평가하고 프로세스를 반복하십시오
 *  테스트 결과
    ** two_features = ['accommodates', 'bathrooms']
    **  three_features = ['accommodates', 'bathrooms', 'bedrooms']
    ** all_features (except price)
    ** two_hyp_mse = {5: 14790.314266211606}
    ** three_hyp_mse = {7: 13518.769009310208}
    ** all_hyp_mse = {11: 14711.46334583815}

==  다음 스텝
    * 수용인원과 욕실수를 속성선택한 경우  K=5  일 때  MSE = 14790.314266211606
    * 수용인원,욕실수 와 침대방수를 속성선택한 경우 K=7 일 때  MSE = 13518.769009310208
    * 속성선택[수용인원,욕실수 와 침대방수],  K=7 인 경우가 전체속성을 선택한 경우보다 더 좋음
 
